<section>
  
<div class=" z-50  text-center shadow-lg w-full mx-auto p-6 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg border border-purple-200 transform hover:scale-105 transition-transform duration-300">
  <span class="text-center text-2xl font-bold text-white">
    Welcome, <span class="text-yellow-300">{{username}}</span>!
  </span>
</div>
  <div class="main-slider my-3">
    <div class="grid md:grid-cols-[70%_minmax(0,1fr)] grid-cols-1">
      <div>
        <owl-carousel-o [options]="customMainSlider">
          <ng-template carouselSlide
            ><img
              src="/images/img1.avif"
              class="w-full h-[400px] rounded-s-md"
              alt=""
          /></ng-template>
          <ng-template carouselSlide
            ><img
              src="/images/img2.avif"
              class="w-full h-[400px] rounded-s-md"
              alt=""
          /></ng-template>
          <ng-template carouselSlide
            ><img
              src="/images/img3.avif"
              class="w-full h-[400px] rounded-s-md"
              alt=""
          /></ng-template>
          <ng-template carouselSlide
            ><img
              src="/images/img4.avif"
              class="w-full h-[400px] rounded-s-md"
              alt=""
          /></ng-template>
          <ng-template carouselSlide
            ><img
              src="/images/img5.avif"
              class="w-full h-[400px] rounded-s-md"
              alt=""
          /></ng-template>
          <ng-template carouselSlide
            ><img
              src="/images/img6.avif"
              class="w-full h-[400px] rounded-s-md"
              alt=""
          /></ng-template>
        </owl-carousel-o>
      </div>
      <div>
        <img
          src="/images/grocery-banner.png"
          class="w-full h-[200px] rounded-e-sm"
          alt=""
        />
        <img
          src="/images/grocery-banner-2.jpeg"
          class="w-full h-[200px] rounded-e-sm"
          alt=""
        />
      </div>
    </div>
  </div>
</section>

<section>
  <h2 class="font-semibold text-4xl text-black dark:text-white my-3">
    Shop Popular Categories
  </h2>
  <owl-carousel-o [options]="customOptions">
    @for (category of categoriesResponse; track category._id ) {
    <ng-template carouselSlide>
      <div>
        <img [src]="category.image" class="h-[350px]" alt="" />
        <h3 class="text-green-500 dark:text-purple-500">{{ category.name }}</h3>
      </div>
    </ng-template>
    }
  </owl-carousel-o>
</section>

<section>
  <h2 class="font-semibold text-4xl text-black dark:text-white my-4">
    Popular Products
  </h2>
  <div
    class="grid sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-5 cursor-pointer"
  >
    @for (product of productResponse.slice(12,24); track product.id) {
    <div class="card border overflow-hidden relative rounded-lg dark:bg-gray-900 shadow">
      <button class="heart absolute end-0 top-0 m-2 " [class.text-red-500]="wishlistState[product.id]"  (click)="toggleWishlist(product.id)">
        <span class="text-xl hover:text-red-500"><i [class.fa-solid]="wishlistState[product.id]" class="fa-regular fa-heart"></i></span>
      </button>
      <div [routerLink]="['/details',product.id]">
      <div class="card-img bg-white  ">
        <img [src]="product.imageCover" class="w-full" [alt]="product.title" />
      </div>
      <div class="card-body p-3 ">
        <h4 class="text-green-500 dark:text-purple-400">{{ product.category.name }}</h4>
        <h3 class="font-semibold dark:text-white">
          {{ product.title.split(" ", 2).join(" ") }}
        </h3>
        <div class="flex justify-between">
          <h4 class="dark:text-white">{{ product.price }} EGP</h4>
          <span class="text-yellow-400 flex items-center">
            <i class="fas fa-star"></i>
            <span class="text-gray-500 dark:text-white"
              >{{ product.ratingsAverage
              }}<span class="dark:text-gray-300"
                >({{ product.ratingsQuantity }})</span
              ></span
            >
          </span>
        </div>
      </div>
    </div>
      <button (click)="addToCart(product.id)" class="bg-green-600 button dark:bg-purple-500 dark:hover:bg-purple-600 text-white py-2 px-5 border rounded w-[90%] mx-auto block hover:bg-green-700">Add To Cart</button>

    </div>
    }
  </div>
</section>
